<section
  class="slider-area slider-area2"
  style="
    height: 70px;
    display: flex;
    align-items: center;
    justify-content: center;
  "
>
  <div class="slider-active" style="width: 100%">
    <div
      class="single-slider slider-height2 d-flex align-items-center"
      style="width: 100%"
    >
      <div class="container">
        <h1
          style="
            color: white;
            font-weight: bold;
            font-size: 34px;
            align-self: center;
          "
        >
          {{ selectedCategoryName }} Category
        </h1>
      </div>
    </div>
  </div>
</section>

<div class="container">
  <!-- Header with Category Select -->
  <div class="row mt-4 w-75 mx-auto">
    <div class="col-12 d-flex flex-wrap gap-5 p-3">
      <!-- <h1 class="text-center">Courses in <span>{{ selectedCategoryName }} Category</span></h1> -->
      <div class="dropdown mx-auto text-center  mb-4   " id="categoryDropdown" >
        <button
          class="btn btn-secondary py-1 dropdown-toggle"
          style="font-size: large"
          type="button"
          id="dropdownMenuButton"
          data-bs-toggle="dropdown"
          aria-expanded="false"
          style="background-color: #6772ff; font-weight: bold; box-shadow: none; border: black 2px;"

        >
          {{ selectedCategoryName || "Select Category" }}
        </button>
        <ul
          class="dropdown-menu text-center"
          aria-labelledby="dropdownMenuButton"
        >
          @for (category of categories; track $index) {
          <li>
            <a
              class="dropdown-item"
              [routerLink]="['/category', category.id]"
              (click)="onCategoryChange(category.id, category.name)"
            >
              {{ category.name }}
            </a>
          </li>
          }
        </ul>
      </div>
    </div>

    <!-- Courses Grid -->
    <div class="row mt-4">
      @for (course of pagedCourses; track $index) {
      <div class="col-md-4 mb-3">
        <a
          [routerLink]="['/course', course.id]"
          class="text-decoration-none hover"
        >
          <div class="card h-100 product">
            <img
              src="{{ course.coverPicture }}"
              class="card-img-top"
              alt="{{ course.title }}"
              style="aspect-ratio: 3/2; object-fit: fill"
            />
            <div class="card-body">
              <h5 class="card-title h6" style="font-size: large">
                {{ course.title }}
              </h5>
              <h5 class="h6 text-muted" style="font-size: smaller">
                {{ course.categoryName }}
              </h5>
              <h5 class="h6 text-muted" style="font-size: smaller">
                By: {{ course.instructorName }}
              </h5>
              <div class="d-flex align-items-center justify-content-between">
                <span>{{ course.price | currency : "EGP " }}</span>
                <div>
                  <i class="fas fa-star rating-color"></i>
                  <span class="text-muted">{{ course.rate }}</span>
                </div>
              </div>
            </div>
            <a
              class="btn-main w-100 text-center"
              [routerLink]="['/course', course.id]"
              >Course Details</a
            >
          </div>
        </a>
      </div>
      }
    </div>

    <!-- Pagination -->
    <div class="row mt-4 mx-auto w-auto">
      <div class="col-12 text-center d-flex justify-content-center">
        <ul class="pagination">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <a
              class="page-link bg-dark text-white rounded-pill mx-1 shadow-sm cursor-pointer d-flex"
              (click)="prevPage()"
            >
              <i class="bi bi-chevron-left"></i>Previous
            </a>
          </li>
          @for (page of totalPagesArray; track $index) {
          <li class="page-item" [class.active]="currentPage === page">
            <a
              class="page-link bg-dark text-white rounded-pill mx-1 shadow-sm cursor-pointer border-dark"
              (click)="goToPage(page)"
            >
              {{ page }}
            </a>
          </li>
          }
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <a
              class="page-link bg-dark text-white rounded-pill mx-1 shadow-sm cursor-pointer d-flex"
              (click)="nextPage()"
            >
              Next<i class="bi bi-chevron-right"></i>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
